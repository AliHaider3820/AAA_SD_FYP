{"version":3,"file":"static/js/941.55cb7eae.chunk.js","mappings":"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","sources":["pages/BusinessProfile.js"],"sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\nimport { useParams, Link } from 'react-router-dom';\nimport { FaStar, FaPhone, FaMapMarkerAlt, FaEnvelope, FaEdit } from 'react-icons/fa';\nimport { AuthContext } from '../context/AuthContext';\nimport './BusinessProfile.css';\n\nconst BusinessProfile = () => {\n  const { businessId } = useParams();\n  const { user } = useContext(AuthContext);\n  const [business, setBusiness] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n\n  useEffect(() => {\n    const fetchBusiness = async () => {\n      try {\n        const providers = JSON.parse(localStorage.getItem('serviceProviders') || '[]');\n        \n        // Find business by ID from URL\n        let businessData = null;\n        \n        if (businessId) {\n          businessData = providers.find(p => p.id === businessId);\n        } else if (user) {\n          // If no businessId provided, show the first business for the current user\n          const userBusinesses = providers.filter(p => p.userId === user.id);\n          businessData = userBusinesses[0];\n        }\n\n        if (businessData) {\n          setBusiness(businessData);\n        } else {\n          setError('Business not found');\n        }\n      } catch (err) {\n        console.error('Error fetching business:', err);\n        setError('Failed to load business information');\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchBusiness();\n  }, [businessId, user?.id]);\n\n  if (loading) {\n    return <div className=\"loading-container\">Loading...</div>;\n  }\n\n  if (error) {\n    return (\n      <div className=\"error-container\">\n        <h2>{error}</h2>\n        <Link to=\"/\" className=\"back-link\">Return to Home</Link>\n      </div>\n    );\n  }\n\n  if (!business) {\n    return (\n      <div className=\"no-business\">\n        <h2>No business profile found</h2>\n        <Link to=\"/service-provider-signup\" className=\"btn-primary\">\n          {user ? 'Add a New Business' : 'Register Your Business'}\n        </Link>\n        {user && (\n          <Link to=\"/\" className=\"btn-secondary\" style={{ marginLeft: '10px' }}>\n            Back to Home\n          </Link>\n        )}\n      </div>\n    );\n  }\n\n  // Check if current user owns this business\n  const isOwner = user && business.userId === user.id;\n\n  return (\n    <div className=\"business-profile\">\n      <div className=\"profile-header\">\n        <div className=\"business-avatar\">\n          {business.profilePicture ? (\n            <img \n              src={business.profilePicture} \n              alt={business.businessName || 'Business'} \n              className=\"business-profile-image\"\n              onError={(e) => {\n                // Fallback to placeholder if image fails to load\n                e.target.style.display = 'none';\n                e.target.nextElementSibling.style.display = 'flex';\n              }}\n            />\n          ) : null}\n          <div \n            className=\"avatar-placeholder\" \n            style={{ display: business.profilePicture ? 'none' : 'flex' }}\n          >\n            {business.businessName ? business.businessName.charAt(0).toUpperCase() : 'B'}\n          </div>\n        </div>\n        <div className=\"business-info\">\n          <div className=\"business-header\">\n            <h1>{business.businessName || 'My Business'}</h1>\n            {isOwner && (\n              <Link to={`/edit-business/${business.id}`} className=\"edit-btn\">\n                <FaEdit /> Edit Profile\n              </Link>\n            )}\n          </div>\n          <div className=\"rating\">\n            {[...Array(5)].map((_, i) => (\n              <FaStar \n                key={i} \n                className={i < Math.floor(business.rating) ? 'star filled' : 'star'} \n              />\n            ))}\n            <span className=\"rating-text\">\n              {business.rating.toFixed(1)} ({business.reviews?.length || 0} reviews)\n            </span>\n          </div>\n          <p className=\"category\">{business.categoryName || 'Service Provider'}</p>\n          {business.yearsOfExperience && (\n            <p className=\"experience\">{business.yearsOfExperience} year{business.yearsOfExperience !== '1' ? 's' : ''} of experience</p>\n          )}\n        </div>\n      </div>\n\n      <div className=\"business-details\">\n        <div className=\"detail-card\">\n          <h3>Contact Information</h3>\n          <div className=\"detail-item\">\n            <FaPhone className=\"detail-icon\" />\n            <span>{business.phone || 'Not provided'}</span>\n          </div>\n          <div className=\"detail-item\">\n            <FaEnvelope className=\"detail-icon\" />\n            <span>{business.email}</span>\n          </div>\n          <div className=\"detail-item\">\n            <FaMapMarkerAlt className=\"detail-icon\" />\n            <span>\n              {[business.address, business.location, business.city]\n                .filter(Boolean)\n                .join(', ')}\n            </span>\n          </div>\n        </div>\n\n        <div className=\"description-card\">\n          <h3>About Us</h3>\n          <p>{business.description || 'No description provided.'}</p>\n        </div>\n\n        <div className=\"reviews-card\">\n          <div className=\"reviews-header\">\n            <h3>Customer Reviews</h3>\n          </div>\n          \n          {business.reviews?.length > 0 ? (\n            <div className=\"reviews-list\">\n              {business.reviews.map((review, index) => (\n                <div key={index} className=\"review-item\">\n                  <div className=\"review-header\">\n                    <span className=\"reviewer\">{review.userName || 'Anonymous'}</span>\n                    <div className=\"review-rating\">\n                      {[...Array(5)].map((_, i) => (\n                        <FaStar \n                          key={i} \n                          className={i < review.rating ? 'star filled' : 'star'} \n                        />\n                      ))}\n                    </div>\n                  </div>\n                  <p className=\"review-text\">{review.comment}</p>\n                  <span className=\"review-date\">\n                    {new Date(review.date).toLocaleDateString()}\n                  </span>\n                </div>\n              ))}\n            </div>\n          ) : (\n            <p className=\"no-reviews\">No reviews yet. Be the first to review!</p>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default BusinessProfile;\n"],"names":["BusinessProfile","_business$reviews","_business$reviews2","businessId","useParams","user","useContext","AuthContext","business","setBusiness","useState","loading","setLoading","error","setError","useEffect","async","providers","JSON","parse","localStorage","getItem","businessData","find","p","id","filter","userId","err","console","fetchBusiness","_jsx","className","children","_jsxs","Link","to","style","marginLeft","isOwner","profilePicture","src","alt","businessName","onError","e","target","display","nextElementSibling","charAt","toUpperCase","FaEdit","Array","map","_","i","FaStar","Math","floor","rating","toFixed","reviews","length","categoryName","yearsOfExperience","FaPhone","phone","FaEnvelope","email","FaMapMarkerAlt","address","location","city","Boolean","join","description","review","index","userName","comment","Date","date","toLocaleDateString"],"sourceRoot":""}