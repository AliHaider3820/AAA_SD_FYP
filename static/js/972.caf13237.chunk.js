"use strict";(self.webpackChunkaaa_sd_fyp=self.webpackChunkaaa_sd_fyp||[]).push([[972],{7972:(e,s,a)=>{a.r(s),a.d(s,{default:()=>r});var i=a(5043),n=a(6767),l=a(8729),t=a(184),c=a(1462),d=a(6720),o=a(579);const r=()=>{var e,s,a;const{user:r,logout:h}=(0,l.As)(),m=(0,n.Zp)(),[u,x]=(0,i.useState)("dashboard"),[b,j]=(0,i.useState)(0),[v,p]=(0,i.useState)(!1),[g,N]=(0,i.useState)({totalBookings:0,monthlyRevenue:0,averageRating:0,newMessages:0,upcomingAppointments:[]});(0,i.useEffect)((()=>{(async()=>{setTimeout((()=>{N({totalBookings:42,monthlyRevenue:5240,averageRating:4.7,newMessages:5,upcomingAppointments:[{id:1,customer:"John Doe",service:"AC Repair",date:"2023-08-15 10:00"},{id:2,customer:"Jane Smith",service:"Plumbing",date:"2023-08-16 14:30"}]})}),500);try{const e=JSON.parse(localStorage.getItem("inquiries")||"[]").filter((e=>!e.isRead)).length;j(e)}catch(e){console.error("Error loading unread messages:",e)}})();const e=()=>{try{const e=JSON.parse(localStorage.getItem("inquiries")||"[]").filter((e=>!e.isRead)).length;j(e)}catch(e){console.error("Error updating unread messages:",e)}};return window.addEventListener("storage",e),()=>window.removeEventListener("storage",e)}),[]);const w=e=>{let{icon:s,title:a,value:i,change:n}=e;return(0,o.jsxs)("div",{className:"stat-card",children:[(0,o.jsx)("div",{className:"stat-icon",children:s}),(0,o.jsxs)("div",{className:"stat-info",children:[(0,o.jsx)("h3",{children:a}),(0,o.jsx)("p",{className:"stat-value",children:i}),n&&(0,o.jsxs)("span",{className:"stat-change "+(n>0?"positive":"negative"),children:[n>0?"\u2191":"\u2193"," ",Math.abs(n),"%"]})]})]})},k=[{id:"dashboard",icon:(0,o.jsx)(t.YYR,{}),label:"Dashboard"},{id:"inbox",icon:(0,o.jsx)(t.opL,{}),label:"Inbox",badge:b},{id:"bookings",icon:(0,o.jsx)(t.bfZ,{}),label:"Bookings"},{id:"reviews",icon:(0,o.jsx)(t.gt3,{}),label:"Reviews"},{id:"profile",icon:(0,o.jsx)(t.Pcn,{}),label:"Settings"}];return(0,i.useEffect)((()=>{const e=e=>{const s=document.querySelector(".dashboard-sidebar"),a=document.querySelector(".mobile-menu-button");v&&s&&!s.contains(e.target)&&!a.contains(e.target)&&(p(!1),document.body.classList.remove("sidebar-visible"))};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}}),[v]),(0,o.jsxs)("div",{className:"business-dashboard "+(v?"sidebar-visible":""),children:[(0,o.jsx)("button",{className:"mobile-menu-button",onClick:()=>{p(!v),document.body.classList.toggle("sidebar-visible",!v)},"aria-label":v?"Close menu":"Open menu",children:v?(0,o.jsx)(t.QCr,{}):(0,o.jsx)(t.OXb,{})}),(0,o.jsxs)("aside",{className:"dashboard-sidebar "+(v?"mobile-visible":""),children:[(0,o.jsxs)("div",{className:"sidebar-header",children:[(0,o.jsx)("h2",{children:"BizHub"}),(0,o.jsxs)("p",{className:"welcome-message",children:["Welcome, ",(null===r||void 0===r||null===(e=r.name)||void 0===e?void 0:e.split(" ")[0])||"Business","!"]})]}),(0,o.jsx)("nav",{className:"sidebar-nav",children:k.map((e=>(0,o.jsxs)("button",{className:"nav-item "+(u===e.id?"active":""),onClick:()=>{return s=e.id,x(s),m("inbox"===s?"/business/inbox":"/business/dashboard"),void(window.innerWidth<992&&(p(!1),document.body.classList.remove("sidebar-visible")));var s},children:[(0,o.jsx)("span",{className:"nav-icon",children:e.icon}),(0,o.jsx)("span",{className:"nav-label",children:e.label}),e.badge>0&&(0,o.jsx)("span",{className:"nav-badge",children:e.badge})]},e.id)))}),(0,o.jsxs)("div",{className:"sidebar-footer",children:[(0,o.jsxs)("button",{className:"logout-button",onClick:()=>{h(),m("/business/login")},children:[(0,o.jsx)(t.axc,{className:"logout-icon"})," Logout"]}),(0,o.jsxs)("div",{className:"user-info",children:[(0,o.jsx)("div",{className:"user-avatar",children:(null===r||void 0===r||null===(s=r.name)||void 0===s?void 0:s.charAt(0))||"B"}),(0,o.jsxs)("div",{className:"user-details",children:[(0,o.jsx)("span",{className:"user-name",children:(null===r||void 0===r?void 0:r.name)||"Business Owner"}),(0,o.jsx)("span",{className:"user-email",children:(null===r||void 0===r?void 0:r.email)||""})]})]})]})]}),(0,o.jsxs)("main",{className:"dashboard-main",children:[(0,o.jsxs)("header",{className:"dashboard-header",children:[(0,o.jsx)("div",{className:"header-left",children:(0,o.jsx)("h1",{children:(null===(a=k.find((e=>e.id===u)))||void 0===a?void 0:a.label)||"Dashboard"})}),(0,o.jsxs)("div",{className:"header-actions",children:[(0,o.jsxs)("button",{className:"icon-button",onClick:()=>x("inbox"),"data-badge":b>0?b:null,children:[(0,o.jsx)(t.maD,{}),b>0&&(0,o.jsx)("span",{className:"notification-badge",children:b})]}),(0,o.jsxs)("button",{className:"icon-button",children:[(0,o.jsx)(t.jNV,{}),(0,o.jsx)("span",{className:"notification-badge",children:"3"})]})]})]}),"dashboard"===u&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{className:"dashboard-stats",children:[(0,o.jsx)(w,{icon:(0,o.jsx)(t.kkc,{}),title:"Total Bookings",value:g.totalBookings,change:12}),(0,o.jsx)(w,{icon:(0,o.jsx)(t.Tsk,{}),title:"Monthly Revenue",value:`$${g.monthlyRevenue.toLocaleString()}`,change:8}),(0,o.jsx)(w,{icon:(0,o.jsx)(t.gt3,{}),title:"Avg. Rating",value:`${g.averageRating}/5.0`,change:2}),(0,o.jsx)(w,{icon:(0,o.jsx)(t.YXz,{}),title:"New Customers",value:"15",change:-3})]}),(0,o.jsxs)("div",{className:"dashboard-content",children:[(0,o.jsxs)("div",{className:"dashboard-card",children:[(0,o.jsxs)("div",{className:"card-header",children:[(0,o.jsx)("h3",{children:"Revenue Overview"}),(0,o.jsxs)("select",{className:"time-filter",children:[(0,o.jsx)("option",{children:"This Month"}),(0,o.jsx)("option",{children:"Last Month"}),(0,o.jsx)("option",{children:"This Year"})]})]}),(0,o.jsxs)("div",{className:"chart-placeholder",children:[(0,o.jsx)(c.Ten,{className:"chart-icon"}),(0,o.jsx)("p",{children:"Revenue chart will be displayed here"})]})]}),(0,o.jsxs)("div",{className:"dashboard-sidebar",children:[(0,o.jsxs)("div",{className:"dashboard-card",children:[(0,o.jsxs)("div",{className:"card-header",children:[(0,o.jsx)("h3",{children:"Upcoming Appointments"}),(0,o.jsx)("button",{className:"btn-text",onClick:()=>m("/appointments"),children:"View All"})]}),(0,o.jsx)("div",{className:"appointments-list",children:g.upcomingAppointments.length>0?g.upcomingAppointments.map((e=>(0,o.jsxs)("div",{className:"appointment-item",children:[(0,o.jsxs)("div",{className:"appointment-time",children:[(0,o.jsx)(t.bfZ,{}),(0,o.jsx)("span",{children:new Date(e.date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),(0,o.jsxs)("div",{className:"appointment-details",children:[(0,o.jsx)("h4",{children:e.customer}),(0,o.jsx)("p",{children:e.service})]}),(0,o.jsx)("button",{className:"btn-icon",children:(0,o.jsx)(t.maD,{})})]},e.id))):(0,o.jsx)("p",{className:"no-data",children:"No upcoming appointments"})})]}),(0,o.jsxs)("div",{className:"dashboard-card quick-actions",children:[(0,o.jsx)("h3",{children:"Quick Actions"}),(0,o.jsxs)("div",{className:"action-buttons",children:[(0,o.jsxs)("button",{className:"btn-action",onClick:()=>m("/business/profile"),children:[(0,o.jsx)(t.Pcn,{})," Manage Profile"]}),(0,o.jsxs)("button",{className:"btn-action",children:[(0,o.jsx)(t.kkc,{})," Add Service"]}),(0,o.jsxs)("button",{className:"btn-action",children:[(0,o.jsx)(d.wje,{})," View Reviews"]}),(0,o.jsxs)("button",{className:"btn-action",children:[(0,o.jsx)(t.YYR,{})," View Reports"]})]})]})]})]})]}),"bookings"===u&&(0,o.jsxs)("div",{className:"dashboard-card",children:[(0,o.jsx)("h2",{children:"Bookings"}),(0,o.jsx)("p",{children:"Your booking management will appear here."})]}),"reviews"===u&&(0,o.jsxs)("div",{className:"dashboard-card",children:[(0,o.jsx)("h2",{children:"Customer Reviews"}),(0,o.jsx)("p",{children:"Your customer reviews will appear here."})]}),"profile"===u&&(0,o.jsxs)("div",{className:"dashboard-card",children:[(0,o.jsx)("h2",{children:"Business Settings"}),(0,o.jsx)("p",{children:"Your business settings will appear here."})]})]})]})}}}]);
//# sourceMappingURL=972.caf13237.chunk.js.map