"use strict";(self.webpackChunkaaa_sd_fyp=self.webpackChunkaaa_sd_fyp||[]).push([[869],{5869:(s,e,a)=>{a.r(e),a.d(e,{default:()=>i});var r=a(5043),t=a(6767),o=a(6213),l=a(2115),n=(a(2950),a(579));const i=function(){const[s,e]=(0,r.useState)(""),[a,i]=(0,r.useState)(""),[d,c]=(0,r.useState)(""),[h,u]=(0,r.useState)(!1),[p,m]=(0,r.useState)(!1),[w]=(0,t.ok)(),f=(0,t.Zp)(),x=w.get("token");return x?p?(0,n.jsx)("div",{className:"auth-container",children:(0,n.jsxs)("div",{className:"auth-form text-center",children:[(0,n.jsx)("h2",{children:"Password Reset Successful!"}),(0,n.jsx)("p",{children:"Your password has been updated successfully. You will be redirected to the login page shortly."}),(0,n.jsx)("div",{className:"auth-footer",children:(0,n.jsxs)("p",{children:["Not redirected? ",(0,n.jsx)(t.N_,{to:"/login",className:"auth-link",children:"Click here to login"})]})})]})}):(0,n.jsx)("div",{className:"auth-container",children:(0,n.jsxs)("div",{className:"auth-form reset-password-form",children:[(0,n.jsx)("h2",{children:"Reset Your Password"}),(0,n.jsx)("p",{children:"Please enter your new password below."}),(0,n.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),s===a)if(s.length<6)c("Password must be at least 6 characters long");else{u(!0),c("");try{await o.A.post("http://localhost:5000/api/auth/reset-password",{token:x,password:s}),l.oR.success("Password has been reset successfully!"),m(!0),setTimeout((()=>{f("/login")}),3e3)}catch(d){var r,t;const e=(null===(r=d.response)||void 0===r||null===(t=r.data)||void 0===t?void 0:t.message)||"Failed to reset password";c(e),l.oR.error(e)}finally{u(!1)}}else c("Passwords do not match")},children:[(0,n.jsxs)("div",{className:"form-group",children:[(0,n.jsx)("label",{htmlFor:"password",children:"New Password"}),(0,n.jsx)("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,className:"form-input",placeholder:"Enter new password",value:s,onChange:s=>e(s.target.value)})]}),(0,n.jsxs)("div",{className:"form-group",children:[(0,n.jsx)("label",{htmlFor:"confirm-password",children:"Confirm New Password"}),(0,n.jsx)("input",{id:"confirm-password",name:"confirm-password",type:"password",autoComplete:"new-password",required:!0,className:"form-input",placeholder:"Confirm new password",value:a,onChange:s=>i(s.target.value)})]}),d&&(0,n.jsx)("div",{className:"error-message",children:d}),(0,n.jsx)("button",{type:"submit",disabled:h,className:"auth-button",children:h?"Resetting...":"Reset Password"}),(0,n.jsx)("div",{className:"auth-footer",children:(0,n.jsx)(t.N_,{to:"/login",className:"auth-link",children:"Back to Login"})})]})]})}):(0,n.jsx)("div",{className:"auth-container",children:(0,n.jsxs)("div",{className:"auth-form",children:[(0,n.jsx)("h2",{children:"Invalid Reset Link"}),(0,n.jsx)("p",{children:"The password reset link is invalid or has expired."}),(0,n.jsx)("button",{onClick:()=>f("/forgot-password"),className:"auth-button",children:"Request a new reset link"}),(0,n.jsx)("div",{className:"auth-footer",children:(0,n.jsx)(t.N_,{to:"/login",className:"auth-link",children:"Back to Login"})})]})})}},2950:()=>{}}]);
//# sourceMappingURL=869.ae805087.chunk.js.map