{"version":3,"file":"static/js/151.99cf70f5.chunk.js","mappings":"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","sources":["pages/Signup.js"],"sourcesContent":["import React, { useState, useContext } from 'react';\nimport { AuthContext } from '../context/AuthContext';\nfunction Signup() {\n  const [step, setStep] = useState(1);\n  const [formData, setFormData] = useState({\n    firstName: '',\n    lastName: '',\n    email: '',\n    password: '',\n    confirmPassword: '',\n    location: ''\n  });\n  const [error, setError] = useState('');\n  const { register } = useContext(AuthContext);\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n\n  const nextStep = () => {\n    if (step === 1 && (!formData.firstName.trim() || !formData.lastName.trim())) {\n      setError('Please fill in all fields');\n      return;\n    }\n    if (step === 2) {\n      if (!formData.email || !formData.password || !formData.confirmPassword) {\n        setError('Please fill in all fields');\n        return;\n      }\n      if (!/\\S+@\\S+\\.\\S+/.test(formData.email)) {\n        setError('Please enter a valid email address');\n        return;\n      }\n      if (formData.password.length < 6) {\n        setError('Password must be at least 6 characters long');\n        return;\n      }\n      if (formData.password !== formData.confirmPassword) {\n        setError('Passwords do not match');\n        return;\n      }\n    }\n    setError('');\n    setStep(step + 1);\n  };\n\n  const prevStep = () => {\n    setError('');\n    setStep(step - 1);\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    console.log('Form submitted with data:', formData);\n\n    if (!formData.location.trim()) {\n      setError('Please enter your location');\n      return;\n    }\n\n    if (formData.password !== formData.confirmPassword) {\n      setError('Passwords do not match');\n      return;\n    }\n\n    try {\n      console.log('Attempting to register user...');\n      const result = await register({\n        firstName: formData.firstName.trim(),\n        lastName: formData.lastName.trim(),\n        email: formData.email.trim(),\n        password: formData.password,\n        confirmPassword: formData.confirmPassword,\n        location: formData.location.trim()\n      });\n\n      console.log('Registration result:', result);\n\n      if (result && result.success) {\n        console.log('Registration successful, resetting form...');\n        setFormData({\n          firstName: '',\n          lastName: '',\n          email: '',\n          password: '',\n          confirmPassword: '',\n          location: ''\n        });\n        setError('');\n        console.log('Redirecting to home page...');\n        window.location.href = '/';\n      } else {\n        const errorMessage = result?.message || 'Registration failed';\n        console.error('Registration failed:', errorMessage);\n        setError(errorMessage);\n      }\n    } catch (err) {\n      console.error('Error during registration:', {\n        error: err,\n        message: err.message,\n        stack: err.stack\n      });\n      setError('An error occurred during registration. Please try again.');\n    }\n  };\n\n  const renderStep = () => {\n    switch (step) {\n      case 1:\n        return (\n          <>\n            <div className=\"form-group\">\n              <label>First Name</label>\n              <input\n                type=\"text\"\n                name=\"firstName\"\n                value={formData.firstName}\n                onChange={handleChange}\n                required\n              />\n            </div>\n            <div className=\"form-group\">\n              <label>Last Name</label>\n              <input\n                type=\"text\"\n                name=\"lastName\"\n                value={formData.lastName}\n                onChange={handleChange}\n                required\n              />\n            </div>\n          </>\n        );\n      case 2:\n        return (\n          <>\n            <div className=\"form-group\">\n              <label>Email</label>\n              <input\n                type=\"email\"\n                name=\"email\"\n                value={formData.email}\n                onChange={handleChange}\n                required\n              />\n            </div>\n            <div className=\"form-group\">\n              <label>Password</label>\n              <input\n                type=\"password\"\n                name=\"password\"\n                value={formData.password}\n                onChange={handleChange}\n                required\n                minLength=\"6\"\n              />\n            </div>\n            <div className=\"form-group\">\n              <label>Confirm Password</label>\n              <input\n                type=\"password\"\n                name=\"confirmPassword\"\n                value={formData.confirmPassword}\n                onChange={handleChange}\n                required\n                minLength=\"6\"\n              />\n            </div>\n          </>\n        );\n      case 3:\n        return (\n          <div className=\"form-group\">\n            <label>Location</label>\n            <input\n              type=\"text\"\n              name=\"location\"\n              value={formData.location}\n              onChange={handleChange}\n              placeholder=\"Enter your city or address\"\n              required\n            />\n          </div>\n        );\n      default:\n        return null;\n    }\n  };\n\n  return (\n    <div className=\"login-container\">\n      <form onSubmit={handleSubmit} className=\"login-form\">\n        <h2>Create an Account ({step}/3)</h2>\n        {error && <div className=\"error\">{error}</div>}\n\n        {renderStep()}\n\n        <div className=\"form-navigation\">\n          {step > 1 && (\n            <button type=\"button\" onClick={prevStep} className=\"nav-button\" style={{ margin: '10px' }}>\n              Back\n            </button>\n          )}\n          {step < 3 ? (\n            <button type=\"button\" onClick={nextStep} className=\"nav-button primary\" >\n              Next\n            </button>\n          ) : (\n            <button type=\"submit\" className=\"signup-button\">\n              Sign Up\n            </button>\n          )}\n        </div>\n\n        <p className=\"login-link\">\n          Already have an account? <a className='nav-link' href=\"/login\">Log in</a>\n        </p>\n      </form>\n    </div>\n  );\n}\n\nexport default Signup;\n"],"names":["step","setStep","useState","formData","setFormData","firstName","lastName","email","password","confirmPassword","location","error","setError","register","useContext","AuthContext","handleChange","e","name","value","target","prev","_jsx","className","children","_jsxs","onSubmit","async","preventDefault","console","log","trim","result","success","window","href","errorMessage","message","err","stack","renderStep","_Fragment","type","onChange","required","minLength","placeholder","onClick","prevStep","style","margin","nextStep","test","length"],"sourceRoot":""}