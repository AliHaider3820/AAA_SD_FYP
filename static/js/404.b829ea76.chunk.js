"use strict";(self.webpackChunkaaa_sd_fyp=self.webpackChunkaaa_sd_fyp||[]).push([[404],{2404:(e,s,i)=>{i.r(s),i.d(s,{default:()=>n});var a=i(5043),o=i(8729),r=i(184),l=i(579);const n=()=>{const e=(0,a.useContext)(o.cy),s=null===e||void 0===e?void 0:e.user,[i,n]=(0,a.useState)((null===s||void 0===s?void 0:s.profilePicture)||null),c=(null===e||void 0===e?void 0:e.setUser)||(()=>{console.warn("setUser is not available in AuthContext")});if(!s)return(0,l.jsx)("div",{className:"profile-container",children:(0,l.jsx)("div",{className:"profile-error",children:"Please log in to view your profile."})});return(0,l.jsxs)("div",{className:"profile-container",children:[(0,l.jsxs)("div",{className:"profile-header",children:[(0,l.jsxs)("div",{className:"profile-avatar",children:[i?(0,l.jsx)("img",{src:i,alt:"Profile",className:"avatar-img"}):(0,l.jsx)(r.x$1,{className:"avatar-icon"}),(0,l.jsxs)("label",{className:"camera-icon",children:[(0,l.jsx)(r.p5B,{}),(0,l.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{const s=e.target.files[0];if(!s)return;const i=JSON.parse(localStorage.getItem("currentUser")||"{}");if(null===i||void 0===i||!i.id)return void console.error("No user is currently logged in");const a=new FileReader;a.onloadend=()=>{try{const e=a.result;n(e);const s={...i,profilePicture:e,hasProfilePicture:!0};"function"===typeof c?c(s):console.warn("setUser is not a function, updating localStorage only");const o=JSON.parse(localStorage.getItem("users")||"[]").map((e=>e.id===i.id?s:e));localStorage.setItem("users",JSON.stringify(o)),localStorage.setItem("currentUser",JSON.stringify(s))}catch(e){console.error("Error updating profile picture:",e)}},a.onerror=()=>{console.error("Failed to read the image file")},a.readAsDataURL(s)},style:{display:"none"}})]})]}),(0,l.jsxs)("div",{className:"profile-info",children:[(0,l.jsx)("h1",{children:s.name||"User"}),(0,l.jsxs)("p",{className:"profile-email",children:[(0,l.jsx)(r.maD,{className:"info-icon"})," ",s.email||"No email provided"]}),s.location&&(0,l.jsxs)("p",{className:"profile-location",children:[(0,l.jsx)(r.vq8,{className:"info-icon"})," ",s.location]})]}),(0,l.jsxs)("button",{className:"edit-profile-btn",children:[(0,l.jsx)(r.uO9,{})," Edit Profile"]})]}),(0,l.jsxs)("div",{className:"profile-content",children:[(0,l.jsxs)("div",{className:"profile-section",children:[(0,l.jsx)("h2",{children:"About Me"}),(0,l.jsx)("p",{children:s.about||"No information provided"})]}),(0,l.jsxs)("div",{className:"profile-section",children:[(0,l.jsx)("h2",{children:"Contact Information"}),(0,l.jsxs)("div",{className:"contact-info",children:[(0,l.jsxs)("p",{children:[(0,l.jsx)("strong",{children:"Email:"})," ",s.email]}),s.location&&(0,l.jsxs)("p",{className:"profile-location",children:[(0,l.jsx)(r.vq8,{className:"info-icon"})," ",s.location]})]})]})]})]})}}}]);
//# sourceMappingURL=404.b829ea76.chunk.js.map